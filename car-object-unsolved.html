<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>My First Object</title>
</head>

<body>

  <script>

    // Variables

    var userPressed;
    var wordsUsed = [];
    var answer = [];
    var wordArray = [];
    var words = ["madonna", "seventies", "random", "jackson", "problem"];
    var chances = 10;
    var j = 0;
    var u = 0;
    


    // Functions  

    var checkWin = function (boolean) {
      if (boolean) {
        console.log("you won!");
      }
      else if (wordArray.includes(userPressed) === false) {
        chances--;
        console.log("Chances: " + chances);
      }
    }

    var compareArray = function (arr1, arr2) {
      for (i = 0; i < wordArray.length; i++) {
        if (arr1.length !== arr2.length)
          return false;
        for (var i = arr1.length; i--;) {
          if (arr1[i] !== arr2[i])
            return false;
        }
        return true;
      }
    }
   
    var guessed = function (rand) {
      for (i = 0; i < rand.length; i++) {
        if (userPressed === wordArray[i]) {
          answer[i] = wordArray[i];
        }
      }
    };

    var setSpaces = function (string) {
      for (i = 0; i < string.length; i++) {
        answer[i] = "_";
      }
    };

    var wordToArray = function (string) {
      for (i = 0; i < string.length; i++) {
        wordArray[i] = string.charAt(i);
      }
    };

    function wordChecker(word) {
      if (wordsUsed.includes(word) || answer.includes(word)) {
        console.log("you already tried this word")
      }
      else {
        if (wordArray.includes(word) && answer.includes(word) === false) {
          console.log("You guessed a word")
          checkWin(compareArray(wordArray, answer));
        }
        else if (wordsUsed.includes(word) === false) {
          console.log("try again");
          wordsUsed[j] = userPressed;
          j++
          checkWin(compareArray(wordArray, answer));
        }
      }
    }

    function game() {
      var rand = words[Math.floor(Math.random() * words.length)];
      wordToArray(rand);
      setSpaces(rand);
      console.log(answer);
      if(compareArray(wordArray, answer)){
        checkWin(compareArray(wordArray, answer));
      }
    }

    game();

    function reset() {
      if (chances === 0 || u != 0) {
        wordsUsed = [];
        if(chances === 0){console.log("you lost")}
        game();
        chances = 10;
        j = 0;  
      }
    }

    document.onkeydown = function (event) {
      userPressed = event.key;
    }

    document.onkeyup = function (event) {
      wordChecker(userPressed);
      guessed(wordArray);
      console.log(answer);
      if(compareArray(wordArray, answer)){
        checkWin(compareArray(wordArray, answer));
        u++;
        reset();
      }
    }

//  Texts




  </script>

</body>

</html>